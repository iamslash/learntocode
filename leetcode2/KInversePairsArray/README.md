# Problem

[K Inverse Pairs Array](https://leetcode.com/problems/k-inverse-pairs-array/)

숫자 `n`, `k` 가 주어진다. `[1..n]` 으로 구성된 숫자들 중
inverse pair 가 `k` 개인 것들의 개수를 구하라.

inverse pair 는 i < j 일 때 A[i] > A[j] 인 `(i, j)` 를 의미한다.

예를 들어, `n = 3, k = 1` 인 경우를 살펴보자.

* `[1, 3, 2]` 에서 `1 < 2` 이고 `A[1] > A[j]` 이므로 `(1, 2)` 는 inverse pair 이다.
* `[2, 1, 3]` 에서 `0 < 1` 이고 `A[0] > A[1]` 이므로 `(0, 1)` 는 inverse pair 이다.
  
# Idea

예를 들어 `n=4` 인 경우 `k=[0..4]` 인 경우를 살펴보자.

| k = 0 | k = 1 | k = 2 | k = 3 | k = 4 |
| ----- | ----- | ----- | ----- | ----- |
| 1234  | 1243  | 1342  | 1432  | 2431  |
|       | 1324  | 1423  | 2341  | 3241  |
|       | 2134  | 2143  | 2413  | 3412  |
|       |       | 2314  | 3142  | 4132  |
|       |       | 3124  | 3214  | 4213  |
|       |       |       | 4123  |       |

이번에는 `n=5, k=4` 인 경우를 살펴보자.

| k = 0+4   | k = 1+3   | k = 2+2   | k = 3+1   | k = 4+0   |
| --------- | --------- | --------- | --------- | --------- |
| **5**1234 | 1**5**243 | 13**5**42 | 143**5**2 | 2431**5** |
|           | 1**5**324 | 14**5**23 | 234**5**1 | 3241**5** |
|           | 2**5**134 | 21**5**43 | 241**5**3 | 3412**5** |
|           |           | 23**5**14 | 314**5**2 | 4132**5** |
|           |           | 31**5**24 | 321**5**4 | 4213**5** |
|           |           |           | 412**5**3 |           |

따라서 다음과 같이 dynamic equation 을 생각해 낼 수 있다.

```
C[n][k] = C[n-1][k]+C[n-1][k-1]+C[n-1][k-2]+...+C[n-1][k+1-n+1]+C[n-1][k-n+1]
```

```
C[i][0] = C[i-1][0] (creates 0 inverse pair)
C[i][1] = C[i-1][0] (1) + C[i-1][1] (0)                                                  =  C[i][0] + C[i-1][1]
C[i][2] = C[i-1][0] (2) + C[i-1][1] (1) + C[i-1][2] (0)                                  = C[i][1] + C[i-1][2]
.
.
.
C[i][4] = C[i-1][0] (4) + C[i-1][1] (3) + C[i-1][2] (2) + C[i-1][3] (1) + C[i-1][4] (0)  = C[i][3] + C[i-1][4]
```

```
if j < i  : C[i][j] = C[i][j-1] + C[i-1][j]
if j >= i : C[i][j] = C[i][j-1] + C[i-1][j] - C[i-1][j-i]

ex)
C[5][5] = C[5][4] + C[4][5] - C[4][0]
C[5][6] = C[5][5] + C[4][6] - C[4][1]
```

It's too difficult.

# Implementation

* [c++11](a.cpp)

# Complexity

```
O(NK) O(NK)
```
