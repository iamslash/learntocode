# Problem

[Count Submatrices With All Ones](https://leetcode.com/problems/count-submatrices-with-all-ones/)

이차원 배열 `M[][]` 가 주어진다. `M[][]` 은 `0` 혹은 `1` 로만 구성되어
있다.  `1` 을 이용해 만들 수 있는 사각형의 개수를 구하라.

# Idea

이 문제는 `int minH, int H[]` 를 기억하고 접근해야 수월하다. `H[x]` 에 column `x` 의 높이를 저장한다. `minH` 에 최소 높이를 저장한다.

내가 방문하는 `M[y][x]` 이 내가 만들 사각형의 오른쪽 아래 위치와 같다고 해보자. 이때 `int k` 를 선언하여 `[x..0]` 동안 순회해 보자. `k` 를 내가 만들 사각형의 왼쪽 열이라하고 `x` 를 오른쪽 열이라했을 때 만들 수 있는 사각형의 개수는 `minH` 와 같다.

예를 들어 다음과 같이 `M = [[1,0,1],[1,1,0],[1,1,0]]` 인 경우를
살펴보자. 

특정한 `y, x` 에 대해 다시 인덱스 `k` 를 선언하여 `[0..x]` 를 거꾸로
순회한다. 각 경우에 대해 `minH` 는 `M[y][k..x]` 에서 제작가능한
사각형의 개수와 같다. 이것을 모두 `ans` 에 더한다.

```
  M: 1 0 1    ❶ 0 1    ❶ 0 ❶   ❶ 0 ❶
     1 1 0    1 1 0    1 1 0    ❶ 1 0
     1 1 0    1 1 0    1 1 0    1 1 0

ans: 0        1        2        4

  M: ❶ 0 ❶   ❶ 0 ❶    ❶ 0 ❶    
     ❶ ❶ 0   ❶ ❶ 0    ❶ ❶ 0    
     1 1 0    ❶ 1 0    ❶ ❶ 0      

ans: 6        9        13       
```

# Implementation

* [go](a.go)
* [java8](Solution.java)

# Complexity

```
O(HW^2) O(W)
```
