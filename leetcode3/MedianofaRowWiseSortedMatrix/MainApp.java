// Copyright (C) 2022 by iamslash

import java.util.*;

// 1 1 2
// 2 3 3
// 1 3 4

// Wrong Answer:
// Input:
 // [[71575,109387,113328,258018,317748,327741,385646,423299,489324,563784,612475,725022,728067,750414,769846,824496,899884],
 // [19324,36317,61462,112157,286730,300583,313241,345757,483842,586927,733078,743581,752183,774762,871565,944784,956649],
 // [2165,63036,66552,186476,217978,235978,265673,315636,328790,417180,442602,557679,566878,598316,614081,813774,969910]]
// Output:
// 563784
// Expected:
// 423299
// 
// matrix
// O(HW) O(HW)
class Solution {
    public int matrixMedian(int[][] grid) {
        int h = grid.length, w = grid[0].length, i = 0;
        int[] nums = new int[h * w];
        for (int y = 0; y < h; ++y) {
            for (int x = 0; x < w; ++x) {
                if (nums[i] < grid[y][x]) {
                    nums[i++] = grid[y][x];
                }
            }
        }
        return nums[(i - 1) / 2];
    }
}
