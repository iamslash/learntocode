-- 192ms 95.90%
SELECT e1.Id, MAX(e2.Month) AS Month, SUM(e2.Salary) AS Salary
FROM Employee e1, Employee e2
WHERE e1.Id = e2.Id
  AND e2.Month BETWEEN (e1.Month-3) AND (e1.Month-1)
GROUP BY e1.Id, e1.Month
ORDER BY Id, Month DESC

-- SELECT e1.Id, e1.Month, e1.Salary, e2.Id, e2.Month, e2.Salary
-- FROM Employee e1, Employee e2
-- WHERE e1.Id = e2.Id
-- ORDER BY e1.Id ASC

-- {"headers":{"Employee":["Id", "Month", "Salary"]},"rows":{"Employee":
-- [[1, 1, 20],
--  [2, 1, 20],
--  [1, 2, 30],
--  [2, 2, 30],
--  [3,2,40],
--  [1,3,40],
--  [3,3,60],
--  [1,4,60],
--  [3,4,70]]}}

-- {"headers":["Id","Month","Salary","Id","Month","Salary"],"values":
-- [[1,1,20,1,2,30],
--  [1,1,20,1,4,60],
--  [1,1,20,1,3,40],
--  [1,1,20,1,1,20],
--  [1,2,30,1,2,30],
--  [1,2,30,1,4,60],
--  [1,2,30,1,3,40],
--  [1,2,30,1,1,20],
--  [1,3,40,1,2,30],
--  [1,3,40,1,4,60],
--  [1,3,40,1,3,40],
--  [1,3,40,1,1,20],
--  [1,4,60,1,2,30],
--  [1,4,60,1,4,60],
--  [1,4,60,1,3,40],
--  [1,4,60,1,1,20],[2,1,20,2,2,30],[2,1,20,2,1,20],[2,2,30,2,1,20],[2,2,30,2,2,30],[3,2,40,3,4,70],[3,2,40,3,3,60],[3,2,40,3,2,40],[3,3,60,3,2,40],[3,3,60,3,4,70],[3,3,60,3,3,60],[3,4,70,3,3,60],[3,4,70,3,2,40],[3,4,70,3,4,70]]}
