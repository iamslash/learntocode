# Problem

> [Range Sum Query 2D - Mutable](https://leetcode.com/problems/range-sum-query-2d-mutable/)

행렬 `M[][]` 가 주어지면 그리드합을 구하는 문제이다.

# Idea

행과 열을 모두 더해서 부분합을 저장해 두면 그리드합을 `O(1)` 의
시간복잡도로 구할 수 있다.  그러나 한 원소를 갱신하게 되면 부분합을
상당히 많이 순회하여 갱신해야 한다.

각 행에 대한 열의 부분합을 저장해 두면 그리드합을 `O(W)` 의
시간복잡도로 구할 수 있다. 또한 한 원소를 갱신하게 되면 `O(W)` 의
시간복잡도로 변경할 수 있다.

예를 들어 다음과 같이 왼쪽의 `M[][]` 이 주어진 경우를 살펴보자.  열의
부분합을 저장한 `P[][]` 는 오른쪽과 같다.

```
3 0 1 4 2    3  3  4  7  9
5 6 3 2 1    5 11 14 16 17
1 2 0 1 5    1  3  3  4  9
4 1 0 1 7    4  5  5  6 13
1 0 3 0 5    1  1  4  4  9
```

`sumRegion(2, 1, 4, 3)` 는 다음과 같은 방법으로 구한다.

```
4 - 1 = 3
6 - 4 = 2
4 - 1 = 3
```

따라서 답은 8 이다.

`update(3, 2, 2)` 는 다음과 같은 방법으로 수행한다.

```
original value of M[3][2] = 0
            updated value = 2
               diff value = 0 - 2 = -2
               
3  3  4  7  9    3  3  4  7  9    
5 11 14 16 17    5 11 14 16 17
1  3  3  4  9    1  3  3  4  9
4  5  5  6 13    4  5  7  8 15
1  1  4  4  9    1  1  4  4  9    
```
다시 `sumRegion(2, 1, 4, 3)` 는 다음과 같은 방법으로 구한다.

```
4 - 1 = 3
8 - 4 = 4
4 - 1 = 3
```

다라서 답은 10 이다.

# Implementation

* [c++11](a.cpp)
* [python3](a.py)

# Complextiy

```
sumRegion: O(W) O(HW)
   update: O(W) O(HW)
```
